{"version":3,"sources":["components/common/FormsControl/FormsControls.module.css","utils/validators/validators.js","components/common/FormsControl/FormsControls.js","Login/Login.jsx"],"names":["module","exports","required","value","undefined","maxLength","length","FormControl","input","meta","props","hasError","touched","error","className","s","formControl","children","Textarea","Input","restProps","LoginReduxForm","reduxForm","form","onSubmit","handleSubmit","name","placeholder","component","validate","type","errorForm","connect","state","isAuth","authReducer","login","to","formData","email","password","rememberMe"],"mappings":"6FACAA,EAAOC,QAAU,CAAC,YAAc,mCAAmC,MAAQ,6BAA6B,UAAY,mC,iCCApH,oEAAO,IAAMC,EAAW,SAAAC,GAAK,OAAKA,OAASC,EAAY,YAGxCC,EAAY,SAACA,GAAD,OAAe,SAACF,GACvC,GAAIA,EAAMG,OAASD,EAAW,MAAM,iBAAN,OAAwBA,EAAxB,e,oJCDrBE,EAAc,SAAC,GAA4B,EAA3BC,MAA4B,IAArBC,EAAoB,EAApBA,KAASC,EAAW,gCAC9CC,EAAWF,EAAKG,SAAWH,EAAKI,MAEtC,OACI,yBAAKC,UAAaC,IAAEC,YAAc,KAAOL,EAAWI,IAAEF,MAAQ,KACrDH,EAAMO,SACX,6BACI,8BAAON,GAAYF,EAAKI,UAM3BK,EAAW,SAACR,GAAW,IACzBF,EAASE,EAATF,MACX,OAAO,kBAACD,EAAgBG,EAAQ,6BAAcF,KAGjCW,EAAQ,SAACT,GAAW,IACtBF,EAAuBE,EAAvBF,MAAUY,EADW,YACEV,EADF,WAEhC,OAAO,kBAACH,EAAgBG,EAAQ,2CAAWF,EAAWY,O,iCCxBtD,wGAiCMC,EAAiBC,YAAU,CAACC,KAAM,SAAjBD,EAzBL,SAACZ,GACf,OACA,0BAAMc,SAAYd,EAAMe,cACpB,6BACI,kBAAC,IAAD,CAAOC,KAAQ,QAASC,YAAc,QAASC,UAAWT,IAC1DU,SAAU,CAAC3B,QAEf,6BACA,kBAAC,IAAD,CAAOwB,KAAQ,WAAYI,KAAO,WAAWH,YAAc,WAAYC,UAAWT,IAClFU,SAAU,CAAC3B,QAEX,6BACA,kBAAC,IAAD,CAAOwB,KAAQ,aAAcI,KAAK,WAAWF,UAAW,UADxD,eAGKlB,EAAMG,MACH,yBAAKC,UAAaC,IAAEgB,WACfrB,EAAMG,OAEb,GACN,6BACI,8CA4BGmB,uBANU,SAACC,GAAD,MAAY,CACjCC,OAAQD,EAAME,YAAYD,UAKU,CAACE,WAA1BJ,EArBD,SAACtB,GAMP,OAAIA,EAAMwB,OACC,kBAAC,IAAD,CAAUG,GAAM,aAGpB,6BACH,qCACA,kBAAChB,EAAD,CAAgBG,SAVH,SAACc,GACd5B,EAAM0B,MAAME,EAASC,MAAOD,EAASE,SAAUF,EAASG","file":"static/js/6.38c42321.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__hgh4O\",\"error\":\"FormsControls_error__gJcEb\",\"errorForm\":\"FormsControls_errorForm__3dLBR\"};","\r\nexport const required = value => (value  ? undefined : 'Required')\r\n\r\n\r\n  export const maxLength = (maxLength) => (value) => {\r\n    if (value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n    return undefined;\r\n}\r\n\r\n","import React from 'react'\r\nimport s from './../FormsControl/FormsControls.module.css'\r\n\r\n\r\nexport const FormControl = ({input, meta, ...props}) => {\r\n    const hasError = meta.touched && meta.error \r\n        \r\n    return (\r\n        <div className = {s.formControl + ' ' + (hasError ? s.error : '')}>\r\n                {props.children}\r\n            <div>\r\n                <span>{hasError && meta.error}</span>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Textarea = (props) => {\r\n    const {input} = props\r\nreturn <FormControl {...props} ><textarea {...input}/></FormControl>\r\n}\r\n\r\nexport const Input = (props) => {\r\n    const {input, ...restProps} = props\r\nreturn <FormControl {...props} ><input {...input} {...restProps}/></FormControl>\r\n}\r\n\r\n\r\n//Альтернативное решение валидатора\r\n\r\n// const Element = Element => ({ input, meta, ...props }) => {\r\n//     const hasError = meta.touched && meta.error;\r\n//     return (\r\n//       <div className={ s.formControl + \" \" + (hasError ? s.error : \"\") }>\r\n//         <Element {...input} {...props} />\r\n//         { hasError && <span> { meta.error } </span> }\r\n//       </div>\r\n//     );\r\n//   };\r\n//   const Textarea = Element(\"textarea\");","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router-dom';\r\nimport {Field, reduxForm} from 'redux-form'\r\nimport { Input } from '../components/common/FormsControl/FormsControls';\r\nimport { login } from '../Redux/authReducer';\r\nimport { required } from '../utils/validators/validators';\r\nimport s from './../components/common/FormsControl//FormsControls.module.css'\r\nconst LoginForm = (props) => {\r\n    return (\r\n    <form onSubmit = {props.handleSubmit}>\r\n        <div>\r\n            <Field name = {'email'} placeholder ={'Login'} component={Input}\r\n            validate={[required]}/>\r\n        </div>\r\n        <div>\r\n        <Field name = {'password'} type = 'password' placeholder ={'password'} component={Input}\r\n        validate={[required]}/>\r\n        </div>\r\n        <div>\r\n        <Field name = {'rememberMe'} type=\"checkbox\" component={'input'} />remember me\r\n        </div>\r\n            {props.error\r\n            ?   <div className = {s.errorForm}>\r\n                    {props.error}\r\n                </div> \r\n            : ''}\r\n        <div>\r\n            <button>Login</button>\r\n        </div>\r\n    </form>)\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({form: 'login'})(LoginForm)\r\n\r\nconst Login = (props) => {\r\n    \r\n        const onSubmit = (formData) => {\r\n            props.login(formData.email, formData.password, formData.rememberMe)\r\n        };\r\n\r\n        if (props.isAuth){\r\n            return <Redirect to = {'/profile'}/>\r\n        }\r\n\r\n        return <div>\r\n            <h1>Login</h1>\r\n            <LoginReduxForm onSubmit={onSubmit}/>\r\n        </div>\r\n}\r\nconst  mapStateToProps = (state) => ({\r\n    isAuth: state.authReducer.isAuth\r\n})\r\n\r\n\r\n\r\nexport default connect(mapStateToProps, {login})(Login);"],"sourceRoot":""}