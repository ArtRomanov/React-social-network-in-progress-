{"version":3,"sources":["components/common/FormsControl/FormsControls.module.css","utils/validators/validators.js","components/common/FormsControl/FormsControls.js","hoc/withAuthRedirect.js","components/Dialogs/Dialogs.module.css","components/Dialogs/DialogItem/DialogItem.module.css","components/Dialogs/DialogItem/DialogItem.jsx","components/Dialogs/DialogItem/DialogsForm.jsx","components/Dialogs/Message/Message.jsx","components/Dialogs/Dialogs.jsx","components/Dialogs/DialogsContainer.jsx"],"names":["module","exports","required","value","undefined","maxLength","length","FormControl","input","meta","props","hasError","touched","error","className","s","formControl","children","Textarea","Input","restProps","mapStateToPropsRedirect","state","isAuth","authReducer","withAuthRedirect","Component","RedirectComponent","this","to","React","connect","DialogItem","dialog","active","sDialogItem","item","alt","src","userpic","id","name","maxLength50","DialogsReduxForm","reduxForm","form","onSubmit","handleSubmit","Field","component","type","validate","DialogsForm","addNewMessage","Message","message","Dialogs","dialogsElements","dialogs","map","d","key","messagesElements","messages","m","dialogItems","field","compose","dialogReducer","dispatch","addMessageCreater"],"mappings":"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","file":"static/js/5.f8dbec5e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__hgh4O\",\"error\":\"FormsControls_error__gJcEb\",\"errorForm\":\"FormsControls_errorForm__3dLBR\"};","\r\nexport const required = value => (value  ? undefined : 'Required')\r\n\r\n\r\n  export const maxLength = (maxLength) => (value) => {\r\n    if (value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n    return undefined;\r\n}\r\n\r\n","import React from 'react'\r\nimport s from './../FormsControl/FormsControls.module.css'\r\n\r\n\r\nexport const FormControl = ({input, meta, ...props}) => {\r\n    const hasError = meta.touched && meta.error \r\n        \r\n    return (\r\n        <div className = {s.formControl + ' ' + (hasError ? s.error : '')}>\r\n                {props.children}\r\n            <div>\r\n                <span>{hasError && meta.error}</span>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Textarea = (props) => {\r\n    const {input} = props\r\nreturn <FormControl {...props} ><textarea {...input}/></FormControl>\r\n}\r\n\r\nexport const Input = (props) => {\r\n    const {input, ...restProps} = props\r\nreturn <FormControl {...props} ><input {...input} {...restProps}/></FormControl>\r\n}\r\n\r\n\r\n//Альтернативное решение валидатора\r\n\r\n// const Element = Element => ({ input, meta, ...props }) => {\r\n//     const hasError = meta.touched && meta.error;\r\n//     return (\r\n//       <div className={ s.formControl + \" \" + (hasError ? s.error : \"\") }>\r\n//         <Element {...input} {...props} />\r\n//         { hasError && <span> { meta.error } </span> }\r\n//       </div>\r\n//     );\r\n//   };\r\n//   const Textarea = Element(\"textarea\");","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Redirect } from 'react-router-dom'\r\n\r\n  \r\nlet mapStateToPropsRedirect = (state) => ({\r\n    isAuth: state.authReducer.isAuth\r\n  })\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) return <Redirect to ='/login'/>\r\n            return (<Component {...this.props} />)\r\n        }\r\n    }\r\n\r\n    \r\n    \r\n    let  newAuthRedirectComponent = connect(mapStateToPropsRedirect)(RedirectComponent)\r\n      \r\n    return newAuthRedirectComponent    \r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__1gauF\",\"dialogItems\":\"Dialogs_dialogItems__DBjg1\",\"dialog\":\"Dialogs_dialog__qTY1l\",\"active\":\"Dialogs_active__17vq9\",\"messages\":\"Dialogs_messages__1n3o7\",\"message\":\"Dialogs_message__1ij3k\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"DialogItem_item__2lD5x\"};","import React from 'react'\r\nimport { NavLink } from 'react-router-dom'\r\nimport s from './../Dialogs.module.css'\r\nimport sDialogItem from './DialogItem.module.css'\r\n\r\nconst DialogItem = (props) => {\r\n    return <div className={s.dialog + ' ' + s.active + ' ' + sDialogItem.item}>\r\n        <img alt='dimych' src={props.userpic}></img>\r\n        <NavLink to={'/dialogs/'+props.id}>{props.name}</NavLink>  \r\n </div>\r\n}\r\nexport default DialogItem;\r\n","import React from 'react'\r\nimport {Field, reduxForm} from 'redux-form'\r\nimport { maxLength, required } from '../../../utils/validators/validators'\r\nimport { Textarea } from '../../common/FormsControl/FormsControls'\r\nconst maxLength50 = maxLength(50)\r\n\r\nconst Form = (props) => {\r\n    \r\n    return (<form onSubmit = {props.handleSubmit}>\r\n        <div>\r\n            <Field name={'field'} component={Textarea} type=\"text\" \r\n            validate={[required, maxLength50]}/>\r\n            </div>\r\n            <div>\r\n                <button >Send message</button>\r\n            </div>\r\n    </form>)            \r\n        \r\n}\r\nconst DialogsReduxForm = reduxForm({form: 'dialogs'})(Form)\r\n\r\nconst DialogsForm = (props) => {\r\n    \r\n    return <DialogsReduxForm onSubmit = {(value)=>props.addNewMessage(value)}/>\r\n}\r\n\r\nexport default DialogsForm;","import React from 'react'\r\nimport s from './../Dialogs.module.css'\r\n\r\nconst Message = (props) => {\r\nreturn    <div className={s.message}>{props.message}</div>\r\n\r\n}\r\n\r\nexport default Message;\r\n","import React from 'react'\r\nimport DialogItem from './DialogItem/DialogItem'\r\nimport DialogsForm from './DialogItem/DialogsForm'\r\nimport s from './Dialogs.module.css'\r\nimport Message from './Message/Message'\r\n\r\n\r\nconst Dialogs = (props) => {\r\n    let state = props.state;\r\n    let dialogsElements =state.dialogs.map(d =>  <DialogItem name={d.name} id={d.id} key = {d.id} userpic={d.userpic}/>);\r\n    let messagesElements = state.messages.map(m => <Message message={m.message} key = {m.id}/>)\r\n   \r\n    let addNewMessage = (value) => {\r\n        props.addNewMessage(value.field);\r\n    }\r\n    \r\n    return (\r\n        <div className={s.dialogs}>\r\n            <div className={s.dialogItems}>\r\n                {dialogsElements}\r\n            </div>\r\n            <div className={s.messages}>\r\n                {messagesElements}\r\n            </div>\r\n            <div>\r\n                <DialogsForm addNewMessage = {addNewMessage} />\r\n            </div>\r\n        </div>)\r\n}\r\nexport default Dialogs;\r\n","import { connect } from 'react-redux';\r\nimport { compose } from 'redux';\r\nimport { withAuthRedirect } from '../../hoc/withAuthRedirect';\r\nimport { addMessageCreater } from '../../Redux/dialogsReducer';\r\nimport Dialogs from './Dialogs';\r\n\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        state: state.dialogReducer,\r\n        isAuth: state.authReducer.isAuth\r\n    }\r\n}\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        addNewMessage: (value) => {\r\n            dispatch(addMessageCreater(value))\r\n        }\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, mapDispatchToProps),\r\n    withAuthRedirect\r\n)(Dialogs)"],"sourceRoot":""}